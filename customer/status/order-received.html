<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠ : ‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;600&display=swap">
</head>

<body>
    <div class="status-bar">
        <span class="dot" id="storeDot"></span>
        <span id="storeText">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤ : ‡πÄ‡∏õ‡∏¥‡∏î‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</span>
    </div>

    <!-- Navbar -->
    <header class="navbar">
        <div class="logo-wrapper">
            <div class="logo">
                <img src="icon/printer0.svg" alt="Logo" class="logo-icon"> EASYPRINT
            </div>
            <div class="rectangle-81" id="locationBtn">
                <img src="icon/location-on0.svg" alt="Location">
                <span id="selectedLocations">‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô</span>
                <img src="icon/chevron-down0.svg" alt="Dropdown">

                <!-- Dropdown container -->
                <div class="location-menu" id="locationMenu">
                    <div class="location-option">

                        <label class="option-content">
                            <input type="radio" name="address" value="‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô">
                            <span class="option-title">‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô</span>
                        </label>

                    </div>
                    <span class="option-title" style="margin-left: 20px; font-size:medium;">‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏ß‡πâ</span>


                    <!-- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏´‡∏°‡πà -->
                    <a href="../addaddress/address.html" class="location-option add-location">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏´‡∏°‡πà</a>

                </div>
            </div>
        </div>
        <div class="menu">
            <a href="../main/index.html"><img src="icon/home0.svg" alt="">‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</a>
            <a href="#"><img src="icon/bell0.svg" alt="">‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</a>
            <a href="../cart/cart.html"><img src="icon/shopping-cart0.svg" alt=""></a>
            <span class="divider">|</span>
            <div class="user-dropdown">
                <a href="#" id="userBtn">
                    <div>
                        <img src="icon/user0.svg" alt="User" class="ellipse-57">
                    </div>
                </a>

                <!-- Dropdown ‡πÄ‡∏°‡∏ô‡∏π -->
                <div class="profile-card" id="userMenu">
                    <div class="profile-icon">
                        <img src="icon/user0.svg" alt="Profile" class="profile-img">
                    </div>

                    <div class="profile-info">
                        <p class="profile-name">‡∏™‡∏°‡∏®‡∏£‡∏µ ‡∏ô‡∏≠‡∏ô‡∏ô‡πâ‡∏≠‡∏¢</p>
                        <p class="profile-name">somjai@gmail.com</p>
                        <p class="profile-name"><a href="#">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå</a></p>
                    </div>
                    <a href="../login/login.html">
                        <button class="logout-btn">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button></a>
                </div>
            </div>
    </header>

    <!-- ‡∏Ñ‡∏£‡∏≠‡∏ö‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏´‡∏•‡∏±‡∏Å‡∏î‡πâ‡∏ß‡∏¢ main -->
    <main>
        <section class="order-status">
            <div class="status-header">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Ç‡∏≠‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</div>
            <div class="progress">
                <div class="progress-step active">
                    <div class="icon">üìÑ</div>
                    <span>‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß</span>
                </div>
                <div class="progress-line"></div>
                <div class="progress-step">
                    <div class="icon">üí≥</div>
                    <span>‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</span>
                </div>
                <div class="progress-line"></div>
                <div class="progress-step">
                    <div class="icon">üñ®Ô∏è</div>
                    <span>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</span>
                </div>
                <div class="progress-line"></div>
                <div class="progress-step">
                    <div class="icon">üöö</div>
                    <span>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏à‡∏±‡∏î‡∏™‡πà‡∏á</span>
                </div>
                <div class="progress-line"></div>
                <div class="progress-step">
                    <div class="icon">üì¶</div>
                    <span>‡∏à‡∏±‡∏î‡∏™‡πà‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß</span>
                </div>
            </div>
            <div class="status-note">


                
            </div>

            <div class="order-table" id="orderTableContainer">
                <!-- ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
            </div>

        </section>

    </main>

    <!-- Footer -->
    <footer>
        <div class="footer-left">
            <p>¬© 2025 EASYPRINT</p>
        </div>
        <div class="footer-right">
            <img src="png/image-3.png" alt="LINE" class="footer-icon">
            <div class="footer-contact">
                <p><b>‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°</b></p>
                <p>LINE : @EASYPRINT</p>
                <p>‡πÇ‡∏ó‡∏£ : 080-999-9999</p>
                <p>Email : easyprint@gmail.com</p>
            </div>
        </div>
    </footer>
    <script>
        const dot = document.getElementById("storeDot");
        const text = document.getElementById("storeText");

        function updateStoreStatus() {
            const status = localStorage.getItem("storeStatus");
            if (status === "closed") {
                dot.classList.add("closed");
                text.textContent = "‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤ : ‡∏õ‡∏¥‡∏î‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£";
            } else {
                dot.classList.remove("closed");
                text.textContent = "‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤ : ‡πÄ‡∏õ‡∏¥‡∏î‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£";
            }
        }

        // ‡πÇ‡∏´‡∏•‡∏î‡∏ï‡∏≠‡∏ô‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤
        updateStoreStatus();

        // ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏à‡∏≤‡∏Å‡∏ù‡∏±‡πà‡∏á‡∏£‡πâ‡∏≤‡∏ô
        window.addEventListener("storage", (event) => {
            if (event.key === "storeStatus") {
                updateStoreStatus();
            }
        });
    </script>
</body>
<script>
    const userBtn = document.getElementById("userBtn");
    const userMenu = document.getElementById("userMenu");
    const locationBtn = document.getElementById('locationBtn');
    const locationMenu = document.getElementById('locationMenu');
    const selectedSpan = document.getElementById('selectedLocation');

    locationBtn.addEventListener('click', function (e) {
        e.stopPropagation();
        locationMenu.style.display = locationMenu.style.display === 'block' ? 'none' : 'block';
    });

    document.addEventListener('click', () => locationMenu.style.display = 'none');

    document.querySelectorAll('.location-option input[type="radio"]').forEach(radio => {
        radio.addEventListener('change', function () {
            if (this.checked) {
                selectedSpan.innerText = this.value;

            }
        });
    });

    document.querySelectorAll('.location-option input[type="radio"]').forEach(radio => {
        radio.addEventListener('change', function () {
            if (this.checked) {
                document.getElementById('selectedLocations').innerText = this.value;

            }
        });
    });

    document.querySelectorAll('.edit-btn').forEach(btn => {
        btn.addEventListener('click', function (e) {
            e.stopPropagation();
            window.location.href = "../editaddress/address.html";
        });
    });

    document.querySelectorAll('.delete-btn').forEach(btn => {
        btn.addEventListener('click', function (e) {
            e.stopPropagation();
            const option = btn.closest('.location-option');

            if (option) {
                const confirmed = confirm("‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏ô‡∏µ‡πâ?");
                if (confirmed) {
                    option.remove();
                    alert("‡∏•‡∏ö‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏ô‡∏µ‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢");
                }
            }
        });
    });
    userBtn.addEventListener("click", function (e) {
        e.preventDefault();
        userMenu.style.display = userMenu.style.display === "block" ? "none" : "block";
    });

    document.addEventListener("click", function (e) {
        if (!userBtn.contains(e.target) && !userMenu.contains(e.target)) {
            userMenu.style.display = "none";
        }
    });
</script>
<script src="order-details.js"></script>

<script>
document.addEventListener('DOMContentLoaded', function () {
  const locationMenu = document.getElementById('locationMenu');
  const selectedSpan = document.getElementById('selectedLocation'); // ‡πÉ‡∏ä‡πâ id ‡∏ï‡∏≤‡∏° HTML

  if (!locationMenu) return; // ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ element ‡∏ô‡∏µ‡πâ‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ ‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£

  // ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏≤‡∏Å localStorage
  const saved = JSON.parse(localStorage.getItem('addresses')) || [];

  saved.forEach((addr, index) => {
    const div = document.createElement('div');
    div.classList.add('location-option');

    div.innerHTML = `
      <label class="option-content">
        <input type="radio" name="address" value="${addr.type}">
        <span class="option-title">${addr.type}</span>
      </label>
      <div class="option-detail">
        ${addr.fname} ${addr.lname}<br>
        ${addr.houseNo}, ‡∏´‡∏°‡∏π‡πà ${addr.village}, ${addr.subdistrict}<br>
        ${addr.district}, ${addr.province} ${addr.zipcode}<br>
        ${addr.phone}
      </div>
      <div class="option-actions">
        <button class="edit-btn" title="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç"><img src="icon/edit-30.svg" alt="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç"></button>
        <button class="delete-btn" title="‡∏•‡∏ö" data-index="${index}"><img src="icon/trash-20.svg" alt="‡∏•‡∏ö"></button>
      </div>
    `;

    // ‡πÄ‡∏û‡∏¥‡πà‡∏° div ‡∏Å‡πà‡∏≠‡∏ô‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
    const addBtn = locationMenu.querySelector('.add-location');
    if (addBtn) {
      locationMenu.insertBefore(div, addBtn);
    } else {
      locationMenu.appendChild(div);
    }
  });

  // ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å radio ‡πÅ‡∏•‡πâ‡∏ß‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á
  locationMenu.addEventListener('change', function(e) {
    const radio = e.target.closest('input[type="radio"][name="address"]');
    if (radio && radio.checked) {
      if (selectedSpan) selectedSpan.innerText = radio.value;
    }
  });

  // ‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏ö‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà
  locationMenu.addEventListener('click', function(e) {
    const delBtn = e.target.closest('.delete-btn');
    if (!delBtn) return;
    const index = delBtn.dataset.index;
    const saved = JSON.parse(localStorage.getItem('addresses')) || [];
    const confirmed = confirm("‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏ô‡∏µ‡πâ?");
    if (confirmed) {
      saved.splice(index, 1);
      localStorage.setItem('addresses', JSON.stringify(saved));
      location.reload();
    }
  });

  // ‡∏õ‡∏∏‡πà‡∏°‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà
  locationMenu.addEventListener('click', function(e) {
    const editBtn = e.target.closest('.edit-btn');
    if (!editBtn) return;
    const index = Array.from(locationMenu.querySelectorAll('.edit-btn')).indexOf(editBtn);
    window.location.href = `../editaddress/address.html?edit=${index}`;
  });
});

 </script>
</html>